(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();document.querySelector("[data-aside-lists]");const N=document.querySelector("[data-aside-new-list-form]"),b=document.querySelector("[data-aside-new-list-input]"),H=N.querySelector("img"),R=document.querySelector("[data-aside-delete-list]"),f=document.querySelector("[data-aside-permanent-lists]"),L=document.querySelector("[data-aside-custom-lists]");document.querySelector("[data-main-tasks-container]");const S=document.querySelector("[data-main-list-title]"),G=document.querySelector("[data-main-list-count]"),K=document.querySelector("[data-main-new-task-form]"),T=document.querySelector("[data-main-new-task-input]"),V=document.querySelector("[data-main-task-img]"),W=document.querySelector("[data-main-clear-tasks]"),k=document.querySelector("[data-tasks-wrapper]");document.getElementById("task-template");const O="task.lists",_="task.selectedListId";let d=JSON.parse(localStorage.getItem(O))||[],c=localStorage.getItem(_);const C=document.querySelector("#svgElement-01"),A=document.querySelector("#svgElement-02"),q=document.querySelector("#svgElement-03"),J={id:"10",name:"Inbox",tasks:[]},Y={id:"20",name:"Today",tasks:[]},$={id:"30",name:"Upcoming",tasks:[]};function x(){const e=b.value;if(e==null||e==="")return;const t=U(e);b.value=null,d.push(t),r()}N.addEventListener("submit",e=>{e.preventDefault(e),x()});H.addEventListener("click",function(){x()});function D(e){const t=e.target.closest("div");t&&!t.classList.contains("aside__permanents")&&(c=t.dataset.listId,r())}f.addEventListener("click",e=>{D(e)});L.addEventListener("click",e=>{D(e)});R.addEventListener("click",()=>{if(c==="10"||c==="20"||c==="30"){console.log("Cannot delete permanent lists!");return}else d=d.filter(e=>e.id!==c),c="10",r()});const z=document.querySelector(".hamburger"),m=document.querySelector(".aside");let y=!0;z.addEventListener("click",()=>{y?(m.classList.add("fade-out"),m.classList.remove("fade-in")):(m.classList.add("fade-in"),m.classList.remove("fade-out")),y=!y});function F(){const e=T.value;if(e==null||e==="")return;const t=j(e);T.value=null,d.find(i=>i.id===c).tasks.push(t),r()}K.addEventListener("submit",e=>{e.preventDefault(),F()});V.addEventListener("click",function(){F()});k.addEventListener("click",e=>{if(e.target.tagName.toLowerCase()==="input"){const t=d.find(i=>i.id===c),a=t.tasks.find(i=>i.id===e.target.id);a.complete=e.target.checked,v(),g(t)}});W.addEventListener("click",()=>{const e=d.find(t=>t.id===c);e.tasks=e.tasks.filter(t=>!t.complete),r()});function p(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function U(e){return{id:Date.now().toString(),name:e,tasks:[]}}function j(e){return{id:Date.now().toString(),name:e,complete:!1}}function Q(){d.push(J),d.push(Y),d.push($)}function I(){d.forEach(e=>{const t=document.createElement("div"),a=document.createElement("img"),i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("readonly","true");const n=document.createElement("span"),s=e.tasks.filter(o=>!o.complete).length;a.setAttribute("src","todothis/svg/list.svg"),t.dataset.listId=e.id,t.classList.add("listz"),i.value=e.name,n.innerHTML=s,t.appendChild(a),t.appendChild(i),t.appendChild(n),e.id==="10"||e.id==="20"||e.id==="30"?(e.id==="10"?a.setAttribute("src","todothis/svg/inbox.svg"):e.id==="20"?a.setAttribute("src","todothis/svg/calendar.svg"):e.id==="30"&&a.setAttribute("src","todothis/svg/upcoming.svg"),f.appendChild(t)):L.appendChild(t),e.id===c&&t.classList.add("active-list")})}function X(e){e.tasks.forEach(t=>{const a=document.createElement("div"),i=document.createElement("input"),n=document.createElement("label"),s=document.createElement("input"),o=document.createElement("img"),l=document.createElement("img");a.classList.add("task"),i.classList.add("task__checkbox"),i.setAttribute("type","checkbox"),s.classList.add("task__input"),s.setAttribute("type","text"),s.setAttribute("readonly",!0),o.classList.add("edit-button"),o.setAttribute("src","svg/edit.svg"),o.setAttribute("alt","Edit button for tasks"),l.classList.add("save-button"),l.setAttribute("src","svg/save.svg"),l.setAttribute("alt","Save button for tasks"),a.appendChild(i),a.appendChild(n),a.appendChild(s),a.appendChild(o),a.appendChild(l),i.id=t.id,i.checked=t.complete,n.htmlFor=t.id,n.innerHTML=t.name,s.style.display="none",o.id=t.id,o.dataset.id=t.id,l.id=t.id,l.dataset.id=t.id;function P(){const u=n.innerHTML;n.style.display="none",s.style.display="block",s.value=u,s.removeAttribute("readonly"),s.focus(),l.style.display="block",o.style.display="none",l.style.opacity="1"}o.addEventListener("click",P);function h(){const u=e.tasks.find(B=>B.id===o.id),E=s.value;n.innerHTML=E,u.name=E,n.style.display="block",s.style.display="none",s.setAttribute("readonly","true"),l.style.display="none",o.style.display="block",r()}l.addEventListener("click",h),s.addEventListener("keydown",u=>{u.key==="Enter"&&h()}),k.appendChild(a)})}function g(e){const t=e.tasks.filter(i=>!i.complete).length,a=t===1?"task":"tasks";G.innerText=`${t} ${a} remaining`}function w(){const e=d.find(t=>t.id===c);e.id==="10"&&e.tasks.length===0?C.style.display="block":C.style.display="none",e.id==="20"&&e.tasks.length===0?A.style.display="block":A.style.display="none",e.id==="30"&&e.tasks.length===0?q.style.display="block":q.style.display="none"}function v(){localStorage.setItem(O,JSON.stringify(d)),localStorage.setItem(_,c)}function M(){if(d.length===0){console.log("Initial Loading of the Application"),c="10",p(f),Q(),v();const e=d.find(t=>t.id=c);S.innerText=e.name,I(),w(),g(e)}else if(d.length!==0){console.log("Content Reloaded");const e=d.find(t=>t.id===c);p(f),p(L),S.innerText=e.name,I(),w(),p(k),X(e),g(e)}}function r(){v(),M()}M();
